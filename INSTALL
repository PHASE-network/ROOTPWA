
Installation instructions for rootpwa:

--- Before you can build rootpwa you need to install the following software:

ROOT: 
  ROOT is available from http://root.cern.ch 
  Version 5.26 or higher is needed 
  and it must have been built with the 
	--enable-mathmore 
	--enable-minuit2 
	options
  If you do not find libMinuit2.so or libMathMore.so in $ROOTSYS/lib then
  you probably need to re-configure ROOT with these options


CMake:
  CMake is a cross platform build system available from
  <http://cmake.org/>.  Some help can also be found here:
  <http://www.vtk.org/Wiki/CMake_FAQ>. The minimum required version of
  CMake is 2.8.0. If your linux distribution offers only outdated
  packages you can compile CMake yourself:

  1) Download the latest CMake release from
     <http://www.cmake.org/cmake/resources/software.html>
  2) Prepare installation
     &> bootstrap --prefix=<install directory>
     You can speed up things on multi-core machines using the
     --parallel=<# of processes> option. If you plan to use the CMake
     GUI you should set the --qt-gui flag
  3) Compile CMake
     &> make && make install
  4) Add <install directory>/bin to your path or make an alias for cmake
  
  or
  
  1) Download the latest CMake binary (.tar.gz) from
  	<http://www.cmake.org/cmake/resources/software.html> 
  	and unpack it to ~/bin/
  2) Add the path to the binary to your loginshell script
     (.bashrc or .bashprofile or ...) or make an alias for cmake:
     &> echo "setting up cmake"
     &> export PATH=${HOME}/bin/cmake-2.8.1-Linux-i386/bin:${PATH}


BNL PWA software PWA2000:
  pwa2000 is now part of the rootpwa repository. 
  It will be build automatically together with the rest of the code.

  
libconfig:
	We use the config file parser written by Mark A. Lindner available from
	http://www.hyperrealm.com/libconfig/
	Version 1.4
	The installation is straight forward and should work without
	any problems but you should use the prefix pointing to 
	the lib files in the topfolder instead of /bin/local:
	export LIBCONFIG=/your/folder/to/intall/libconfig
	
	&> ./configure --prefix=$LIBCONFIG
	See ./configure --help for details.

	We will provide a copy of the package from 
	http://sourceforge.net/projects/rootpwa/files/


--- Building rootpwa:

1) Set ROOTSYS environment variable to the location 
   where you have installed ROOT 
   (see ROOT documentation for details)
  
   FOR INSTALLATION ON LXPLUS (CERN): 
	Make sure that you have the correct root version: 32bit or 64bit. 
	Beware: A 32bit root will run on a 64bit machine BUT you will
	 fail to link against it on the wrong architecture

2) Set $LIBCONFIG to libconfig toplevel directory
3) Set $ROOTPWA environment variable to the rootpwa toplevel directory 
   (usually trunk)
4) Set
	PATH=$ROOTPWA/build/bin:$PATH
	LD_LIBRARY_PATH=$LIBCONFIG/lib:$ROOTPWA/build/lib:$ROOTSYS/lib:LD_LIBRARY_PATH

We use an out-of-source build strategy. This means that 
the binary files will be created outside of the directories that contain
the source code. CMake is supporting this:

5) create the build-directory: 
	&> cd $ROOTPWA
        &> mkdir build

6) do the build:
	&> cd build
	&> cmake ..   
	&> make 
	&> make test

   The default built option is NONE. The compiler flags which are used are
   defined in the to-level CMakeLists.txt.
   You can choose a different built option with:

	&> cmake -D MAKE_BUILD_TYPE=DEBUG ..

There is no make install needed anymore.

There is a setup.sh script template. You can modify this for future usage
in order to quickly set all the above mentioned variables.

--- Building the html documentation:

Do the following:
   &> doxygen rootpwaDoxyfile.conf
	
The doxygen documentation will be built into the directory
   html-doc/html/

and can be viewed with any browser, e.g.
   &> mozilla html-doc/html/index.html

A recent version of these files will be uploaded regularily on
http://rootpwa.sourceforge.net/

As registered user (with the right permissions) you can upload the documentation as is explained on https://sourceforge.net/apps/trac/sourceforge/wiki/Project%20web:

&> cd html-doc
&> sftp <user>,rootpwa@web.sourceforge.net
sftp> cd htdocs
sftp> put html/*
sftp> exit
